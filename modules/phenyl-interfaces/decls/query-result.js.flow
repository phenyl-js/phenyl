// @flow

import type { UpdateOperation } from 'mongolike-operations'
import type { Id } from './id.js.flow'
import type { Entity } from './entity.js.flow'

export type CustomQueryResult = {
  ok: 1,
  result: any,
}

export type QueryResult = {|
  ok: 1,
  entities: Array<Entity>,
  versionsById: { [entityId: Id]: Id },
|}

export type SingleQueryResult = {|
  ok: 1,
  entity: Entity,
  versionId: Id,
|}

export type PullQueryResult =
  | {|
      ok: 1,
      pulled: 1,
      operations: Array<UpdateOperation>,
      versionId: Id,
    |}
  | SingleQueryResult
