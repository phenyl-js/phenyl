// @flow

import type { Session } from './session.js.flow'
import type { CustomQuery } from './query.js.flow'
import type { CustomQueryResult } from './query-result.js.flow'

export interface CustomQueryDefinition {
  authorization(query: CustomQuery, session: ?Session): Promise<boolean>;
  validation(query: CustomQuery, session: ?Session): Promise<void>;
  execution(query: CustomQuery, session: ?Session): Promise<CustomQueryResult>; // CustomQueryHandler
}

export type CustomQueryDefinitions = { [name: string]: CustomQueryDefinition }
